#!/bin/bash
# https://github.com/shvedes/dotfiles
# generated by ChatGPT

export DBUS_SESSION_BUS_ADDRESS="unix:path=/run/user/1000/bus"

ICON="$HOME/.local/bin/notifications/icons/usb.png"
SOUND_IN="$HOME/.local/bin/notifications/sounds/plug.wav"
SOUND_OUT="$HOME/.local/bin/notifications/sounds/unplug.wav"
FLASH_DRIVE_NAME=$(lsblk -o name,model | grep sda | awk '{print $2}')

if [ "$ACTION" == "add" ]; then
  MESSAGE="USB storage connected"
else
  MESSAGE="USB storage disconnected"
fi

notify-send -r 997 -i $ICON "$FLASH_DRIVE_NAME $MESSAGE"

